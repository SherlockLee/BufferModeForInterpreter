; generated by ARM C/C++ Compiler, 4.1 [Build 644]
; commandline ArmCC [--list --split_sections --debug -c --asm --interleave -o.\obj\main.o --asm_dir=.\listing\ --list_dir=.\listing\ --depend=.\obj\main.d --cpu=Cortex-M3 --apcs=interwork -O0 -I..\..\library\inc -I..\..\library\src -I..\uvsion -IC:\Keil\ARM\CMSIS\Include -IC:\Keil\ARM\INC\ST\STM32F10x -D__MICROLIB --omf_browse=.\obj\main.crf main.c]
                          THUMB

                          AREA ||i.GPIO_Configuration||, CODE, READONLY, ALIGN=2

                  GPIO_Configuration PROC
;;;912    *******************************************************************************/
;;;913    void GPIO_Configuration(void)
000000  b508              PUSH     {r3,lr}
;;;914    {
;;;915      GPIO_InitTypeDef GPIO_InitStructure;
;;;916    
;;;917      /* Configure USART1 Tx (PA.09) as alternate function push-pull */
;;;918      GPIO_InitStructure.GPIO_Pin = GPIO_Pin_9;
000002  f44f7000          MOV      r0,#0x200
000006  f8ad0000          STRH     r0,[sp,#0]
;;;919      GPIO_InitStructure.GPIO_Mode = GPIO_Mode_AF_PP;
00000a  f04f0018          MOV      r0,#0x18
00000e  f88d0003          STRB     r0,[sp,#3]
;;;920      GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
000012  f04f0003          MOV      r0,#3
000016  f88d0002          STRB     r0,[sp,#2]
;;;921      GPIO_Init(GPIOA, &GPIO_InitStructure);
00001a  4669              MOV      r1,sp
00001c  4807              LDR      r0,|L1.60|
00001e  f7fffffe          BL       GPIO_Init
;;;922        
;;;923      /* Configure USART1 Rx (PA.10) as input floating */
;;;924      GPIO_InitStructure.GPIO_Pin = GPIO_Pin_10;
000022  f44f6080          MOV      r0,#0x400
000026  f8ad0000          STRH     r0,[sp,#0]
;;;925      GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IN_FLOATING;
00002a  f04f0004          MOV      r0,#4
00002e  f88d0003          STRB     r0,[sp,#3]
;;;926      GPIO_Init(GPIOA, &GPIO_InitStructure);
000032  4669              MOV      r1,sp
000034  4801              LDR      r0,|L1.60|
000036  f7fffffe          BL       GPIO_Init
;;;927    }
00003a  bd08              POP      {r3,pc}
;;;928    
                          ENDP

                  |L1.60|
                          DCD      0x40010800

                          AREA ||i.NVIC_Configuration||, CODE, READONLY, ALIGN=1

                  NVIC_Configuration PROC
;;;894    *******************************************************************************/
;;;895    void NVIC_Configuration(void)
000000  b510              PUSH     {r4,lr}
;;;896    {
;;;897    #ifdef  VECT_TAB_RAM  
;;;898      /* Set the Vector Table base location at 0x20000000 */ 
;;;899      NVIC_SetVectorTable(NVIC_VectTab_RAM, 0x0); 
;;;900    #else  /* VECT_TAB_FLASH  */
;;;901      /* Set the Vector Table base location at 0x08000000 */ 
;;;902      NVIC_SetVectorTable(NVIC_VectTab_FLASH, 0x0);   
000002  2100              MOVS     r1,#0
000004  f04f6000          MOV      r0,#0x8000000
000008  f7fffffe          BL       NVIC_SetVectorTable
;;;903    #endif
;;;904    }
00000c  bd10              POP      {r4,pc}
;;;905    
                          ENDP


                          AREA ||i.RCC_Configuration||, CODE, READONLY, ALIGN=2

                  RCC_Configuration PROC
;;;836    *******************************************************************************/
;;;837    void RCC_Configuration(void)
000000  b510              PUSH     {r4,lr}
;;;838    {
;;;839      /* RCC system reset(for debug purpose) */
;;;840      RCC_DeInit();
000002  f7fffffe          BL       RCC_DeInit
;;;841    
;;;842      /* Enable HSE */
;;;843      RCC_HSEConfig(RCC_HSE_ON);
000006  f44f3080          MOV      r0,#0x10000
00000a  f7fffffe          BL       RCC_HSEConfig
;;;844    
;;;845      /* Wait till HSE is ready */
;;;846      HSEStartUpStatus = RCC_WaitForHSEStartUp();
00000e  f7fffffe          BL       RCC_WaitForHSEStartUp
000012  4919              LDR      r1,|L3.120|
000014  7008              STRB     r0,[r1,#0]
;;;847    
;;;848      if(HSEStartUpStatus == SUCCESS)
000016  4608              MOV      r0,r1
000018  7800              LDRB     r0,[r0,#0]  ; HSEStartUpStatus
00001a  2801              CMP      r0,#1
00001c  d126              BNE      |L3.108|
;;;849      {
;;;850        /* HCLK = SYSCLK */
;;;851        RCC_HCLKConfig(RCC_SYSCLK_Div1); 
00001e  2000              MOVS     r0,#0
000020  f7fffffe          BL       RCC_HCLKConfig
;;;852      
;;;853        /* PCLK2 = HCLK */
;;;854        RCC_PCLK2Config(RCC_HCLK_Div1); 
000024  2000              MOVS     r0,#0
000026  f7fffffe          BL       RCC_PCLK2Config
;;;855    
;;;856        /* PCLK1 = HCLK/2 */
;;;857        RCC_PCLK1Config(RCC_HCLK_Div2);
00002a  f44f6080          MOV      r0,#0x400
00002e  f7fffffe          BL       RCC_PCLK1Config
;;;858    
;;;859        /* Flash 2 wait state */
;;;860        FLASH_SetLatency(FLASH_Latency_2);
000032  2002              MOVS     r0,#2
000034  f7fffffe          BL       FLASH_SetLatency
;;;861        /* Enable Prefetch Buffer */
;;;862        FLASH_PrefetchBufferCmd(FLASH_PrefetchBuffer_Enable);
000038  2010              MOVS     r0,#0x10
00003a  f7fffffe          BL       FLASH_PrefetchBufferCmd
;;;863    
;;;864        /* PLLCLK = 8MHz * 9 = 72 MHz */
;;;865        RCC_PLLConfig(RCC_PLLSource_HSE_Div1, RCC_PLLMul_9);
00003e  f44f11e0          MOV      r1,#0x1c0000
000042  f44f3080          MOV      r0,#0x10000
000046  f7fffffe          BL       RCC_PLLConfig
;;;866    
;;;867        /* Enable PLL */ 
;;;868        RCC_PLLCmd(ENABLE);
00004a  2001              MOVS     r0,#1
00004c  f7fffffe          BL       RCC_PLLCmd
;;;869    
;;;870        /* Wait till PLL is ready */
;;;871        while(RCC_GetFlagStatus(RCC_FLAG_PLLRDY) == RESET)
000050  bf00              NOP      
                  |L3.82|
000052  2039              MOVS     r0,#0x39
000054  f7fffffe          BL       RCC_GetFlagStatus
000058  2800              CMP      r0,#0
00005a  d0fa              BEQ      |L3.82|
;;;872        {
;;;873        }
;;;874    
;;;875        /* Select PLL as system clock source */
;;;876        RCC_SYSCLKConfig(RCC_SYSCLKSource_PLLCLK);
00005c  2002              MOVS     r0,#2
00005e  f7fffffe          BL       RCC_SYSCLKConfig
;;;877    
;;;878        /* Wait till PLL is used as system clock source */
;;;879        while(RCC_GetSYSCLKSource() != 0x08)
000062  bf00              NOP      
                  |L3.100|
000064  f7fffffe          BL       RCC_GetSYSCLKSource
000068  2808              CMP      r0,#8
00006a  d1fb              BNE      |L3.100|
                  |L3.108|
;;;880        {
;;;881        }
;;;882      }
;;;883       
;;;884      /* Enable USART1 and GPIOA clock */
;;;885      RCC_APB2PeriphClockCmd(RCC_APB2Periph_USART1 | RCC_APB2Periph_GPIOA, ENABLE);
00006c  2101              MOVS     r1,#1
00006e  f2440004          MOV      r0,#0x4004
000072  f7fffffe          BL       RCC_APB2PeriphClockCmd
;;;886    }
000076  bd10              POP      {r4,pc}
;;;887    
                          ENDP

                  |L3.120|
                          DCD      HSEStartUpStatus

                          AREA ||i.USART_Configuration||, CODE, READONLY, ALIGN=2

                  USART_Configuration PROC
;;;935    *******************************************************************************/
;;;936    void USART_Configuration(void)
000000  b500              PUSH     {lr}
;;;937    {
000002  b087              SUB      sp,sp,#0x1c
;;;938      USART_InitTypeDef USART_InitStructure;
;;;939      USART_ClockInitTypeDef  USART_ClockInitStructure;
;;;940    /* USART1 configuration -----------------------------------------------
;;;941    
;;;942    -------*/
;;;943      /* USART1 configured as follow:
;;;944            - BaudRate = 115200 baud  
;;;945            - Word Length = 8 Bits
;;;946            - One Stop Bit
;;;947            - No parity
;;;948            - Hardware flow control disabled (RTS and CTS signals)
;;;949            - Receive and transmit enabled
;;;950            - USART Clock disabled
;;;951            - USART CPOL: Clock is active low
;;;952            - USART CPHA: Data is captured on the middle 
;;;953            - USART LastBit: The clock pulse of the last data bit is not 
;;;954    
;;;955    output to 
;;;956                             the SCLK pin
;;;957      */
;;;958    USART_ClockInitStructure.USART_Clock = USART_Clock_Disable;
000004  f04f0000          MOV      r0,#0
000008  f8ad0004          STRH     r0,[sp,#4]
;;;959    USART_ClockInitStructure.USART_CPOL = USART_CPOL_Low;
00000c  f8ad0006          STRH     r0,[sp,#6]
;;;960    USART_ClockInitStructure.USART_CPHA = USART_CPHA_2Edge;
000010  f44f7000          MOV      r0,#0x200
000014  f8ad0008          STRH     r0,[sp,#8]
;;;961    USART_ClockInitStructure.USART_LastBit = USART_LastBit_Disable;
000018  f04f0000          MOV      r0,#0
00001c  f8ad000a          STRH     r0,[sp,#0xa]
;;;962    /* Configure the USART1 synchronous paramters */
;;;963    USART_ClockInit(USART1, &USART_ClockInitStructure);
000020  a901              ADD      r1,sp,#4
000022  480f              LDR      r0,|L4.96|
000024  f7fffffe          BL       USART_ClockInit
;;;964    
;;;965    USART_InitStructure.USART_BaudRate = 115200;
000028  f44f30e1          MOV      r0,#0x1c200
00002c  9003              STR      r0,[sp,#0xc]
;;;966    USART_InitStructure.USART_WordLength = USART_WordLength_8b;
00002e  f04f0000          MOV      r0,#0
000032  f8ad0010          STRH     r0,[sp,#0x10]
;;;967    USART_InitStructure.USART_StopBits = USART_StopBits_1;
000036  f8ad0012          STRH     r0,[sp,#0x12]
;;;968    USART_InitStructure.USART_Parity = USART_Parity_No ;
00003a  f8ad0014          STRH     r0,[sp,#0x14]
;;;969    USART_InitStructure.USART_HardwareFlowControl = 
00003e  f8ad0018          STRH     r0,[sp,#0x18]
;;;970    
;;;971    USART_HardwareFlowControl_None;
;;;972    
;;;973    
;;;974    USART_InitStructure.USART_Mode = USART_Mode_Rx | USART_Mode_Tx;
000042  f04f000c          MOV      r0,#0xc
000046  f8ad0016          STRH     r0,[sp,#0x16]
;;;975    /* Configure USART1 basic and asynchronous paramters */
;;;976    USART_Init(USART1, &USART_InitStructure);
00004a  a903              ADD      r1,sp,#0xc
00004c  4804              LDR      r0,|L4.96|
00004e  f7fffffe          BL       USART_Init
;;;977        
;;;978      /* Enable USART1 */
;;;979      USART_Cmd(USART1, ENABLE);
000052  2101              MOVS     r1,#1
000054  4802              LDR      r0,|L4.96|
000056  f7fffffe          BL       USART_Cmd
;;;980    }
00005a  b007              ADD      sp,sp,#0x1c
00005c  bd00              POP      {pc}
;;;981    
                          ENDP

00005e  0000              DCW      0x0000
                  |L4.96|
                          DCD      0x40013800

                          AREA ||i.adjust_error_handling||, CODE, READONLY, ALIGN=2

                          REQUIRE _printf_percent
                          REQUIRE _printf_s
                          REQUIRE _printf_str
                          REQUIRE _scanf_int
                  adjust_error_handling PROC
;;;496    
;;;497    int adjust_error_handling(
000000  b570              PUSH     {r4-r6,lr}
;;;498    int args,
;;;499    int * print_stack,
;;;500    int * do_next)
;;;501    {
000002  b096              SUB      sp,sp,#0x58
000004  4605              MOV      r5,r0
000006  460e              MOV      r6,r1
000008  4614              MOV      r4,r2
;;;502        char buffer[80];
;;;503        int choice;
;;;504    
;;;505        for(;;)
00000a  bf00              NOP      
                  |L5.12|
;;;506        {
;;;507            fprintf(stderr, "enter a number:\r\n");
00000c  a13b              ADR      r1,|L5.252|
00000e  4840              LDR      r0,|L5.272|
000010  f7fffffe          BL       __2fprintf
;;;508            fprintf(stderr, "1 = done with error handling\r\n");
000014  a13f              ADR      r1,|L5.276|
000016  483e              LDR      r0,|L5.272|
000018  f7fffffe          BL       __2fprintf
;;;509            fprintf(stderr, "2 = %sprint stack on error\r\n",
00001c  6830              LDR      r0,[r6,#0]
00001e  2801              CMP      r0,#1
000020  d101              BNE      |L5.38|
;;;510                ((*print_stack IS ON) ? "do not " : ""));
000022  a044              ADR      r0,|L5.308|
000024  e000              B        |L5.40|
                  |L5.38|
000026  a045              ADR      r0,|L5.316|
                  |L5.40|
000028  4602              MOV      r2,r0
00002a  a145              ADR      r1,|L5.320|
00002c  4838              LDR      r0,|L5.272|
00002e  f7fffffe          BL       __2fprintf
;;;511            if (args IS 3)
000032  2d03              CMP      r5,#3
000034  d10b              BNE      |L5.78|
;;;512            {
;;;513                if (*do_next IS 0)                    /* 0 means continue */
000036  6820              LDR      r0,[r4,#0]
000038  b920              CBNZ     r0,|L5.68|
;;;514                    fprintf(stderr,
00003a  a149              ADR      r1,|L5.352|
00003c  4834              LDR      r0,|L5.272|
00003e  f7fffffe          BL       __2fprintf
000042  e019              B        |L5.120|
                  |L5.68|
;;;515                        "3 = stop on error (do not continue)\r\n");
;;;516                else                                  /* if do_next IS 2 -- 2 means stopping on error */
;;;517                    fprintf(stderr,
000044  a150              ADR      r1,|L5.392|
000046  4832              LDR      r0,|L5.272|
000048  f7fffffe          BL       __2fprintf
00004c  e014              B        |L5.120|
                  |L5.78|
;;;518                        "3 = continue on error (do not stop)\r\n");
;;;519            }
;;;520            else if (args IS 2)
00004e  2d02              CMP      r5,#2
000050  d112              BNE      |L5.120|
;;;521            {
;;;522                if (*do_next IS 0)                    /* 0 means continue */
000052  6820              LDR      r0,[r4,#0]
000054  b920              CBNZ     r0,|L5.96|
;;;523                    fprintf(stderr,
000056  a156              ADR      r1,|L5.432|
000058  482d              LDR      r0,|L5.272|
00005a  f7fffffe          BL       __2fprintf
00005e  e00b              B        |L5.120|
                  |L5.96|
;;;524                        "3 = mdi on error (do not continue or stop)\r\n");
;;;525                else if (*do_next IS 1)               /* 1 means MDI */
000060  6820              LDR      r0,[r4,#0]
000062  2801              CMP      r0,#1
000064  d104              BNE      |L5.112|
;;;526                    fprintf(stderr,
000066  a15e              ADR      r1,|L5.480|
000068  4829              LDR      r0,|L5.272|
00006a  f7fffffe          BL       __2fprintf
00006e  e003              B        |L5.120|
                  |L5.112|
;;;527                            "3 = stop on error (do not mdi or continue)\r\n");
;;;528                else                                  /* if do_next IS 2 -- 2 means stopping on error */
;;;529                    fprintf(stderr,
000070  a167              ADR      r1,|L5.528|
000072  4827              LDR      r0,|L5.272|
000074  f7fffffe          BL       __2fprintf
                  |L5.120|
;;;530                        "3 = continue on error (do not stop or mdi)\r\n");
;;;531            }
;;;532            fprintf(stderr, "enter choice => ");
000078  a171              ADR      r1,|L5.576|
00007a  4825              LDR      r0,|L5.272|
00007c  f7fffffe          BL       __2fprintf
;;;533            gets(buffer);
000080  a802              ADD      r0,sp,#8
000082  f7fffffe          BL       gets
;;;534            if (sscanf(buffer, "%d", &choice) ISNT 1)
000086  aa01              ADD      r2,sp,#4
000088  a172              ADR      r1,|L5.596|
00008a  a802              ADD      r0,sp,#8
00008c  f7fffffe          BL       __0sscanf
000090  2801              CMP      r0,#1
000092  d000              BEQ      |L5.150|
;;;535                continue;
000094  e7ba              B        |L5.12|
                  |L5.150|
;;;536            if (choice IS 1)
000096  9801              LDR      r0,[sp,#4]
000098  2801              CMP      r0,#1
00009a  d100              BNE      |L5.158|
;;;537                break;
00009c  e029              B        |L5.242|
                  |L5.158|
;;;538            else if (choice IS 2)
00009e  9801              LDR      r0,[sp,#4]
0000a0  2802              CMP      r0,#2
0000a2  d108              BNE      |L5.182|
;;;539                *print_stack SET_TO ((*print_stack IS OFF) ? ON : OFF);
0000a4  6830              LDR      r0,[r6,#0]
0000a6  b910              CBNZ     r0,|L5.174|
0000a8  f04f0001          MOV      r0,#1
0000ac  e001              B        |L5.178|
                  |L5.174|
0000ae  f04f0000          MOV      r0,#0
                  |L5.178|
0000b2  6030              STR      r0,[r6,#0]
0000b4  e01c              B        |L5.240|
                  |L5.182|
;;;540            else if ((choice IS 3) AND (args IS 3))
0000b6  9801              LDR      r0,[sp,#4]
0000b8  2803              CMP      r0,#3
0000ba  d10a              BNE      |L5.210|
0000bc  2d03              CMP      r5,#3
0000be  d108              BNE      |L5.210|
;;;541                *do_next SET_TO ((*do_next IS 0) ? 2 : 0);
0000c0  6820              LDR      r0,[r4,#0]
0000c2  b910              CBNZ     r0,|L5.202|
0000c4  f04f0002          MOV      r0,#2
0000c8  e001              B        |L5.206|
                  |L5.202|
0000ca  f04f0000          MOV      r0,#0
                  |L5.206|
0000ce  6020              STR      r0,[r4,#0]
0000d0  e00e              B        |L5.240|
                  |L5.210|
;;;542            else if ((choice IS 3) AND (args IS 2))
0000d2  9801              LDR      r0,[sp,#4]
0000d4  2803              CMP      r0,#3
0000d6  d10b              BNE      |L5.240|
0000d8  2d02              CMP      r5,#2
0000da  d109              BNE      |L5.240|
;;;543                *do_next SET_TO ((*do_next IS 2) ? 0 : (*do_next + 1));
0000dc  6820              LDR      r0,[r4,#0]
0000de  2802              CMP      r0,#2
0000e0  d102              BNE      |L5.232|
0000e2  f04f0000          MOV      r0,#0
0000e6  e002              B        |L5.238|
                  |L5.232|
0000e8  6820              LDR      r0,[r4,#0]
0000ea  f1000001          ADD      r0,r0,#1
                  |L5.238|
0000ee  6020              STR      r0,[r4,#0]
                  |L5.240|
0000f0  e78c              B        |L5.12|
                  |L5.242|
0000f2  bf00              NOP                            ;537
;;;544        }
;;;545        return 0;
0000f4  2000              MOVS     r0,#0
;;;546    }
0000f6  b016              ADD      sp,sp,#0x58
0000f8  bd70              POP      {r4-r6,pc}
;;;547    
                          ENDP

0000fa  0000              DCW      0x0000
                  |L5.252|
0000fc  656e7465          DCB      "enter a number:\r\n",0
000100  72206120
000104  6e756d62
000108  65723a0d
00010c  0a00    
00010e  00                DCB      0
00010f  00                DCB      0
                  |L5.272|
                          DCD      __stderr
                  |L5.276|
000114  31203d20          DCB      "1 = done with error handling\r\n",0
000118  646f6e65
00011c  20776974
000120  68206572
000124  726f7220
000128  68616e64
00012c  6c696e67
000130  0d0a00  
000133  00                DCB      0
                  |L5.308|
000134  646f206e          DCB      "do not ",0
000138  6f742000
                  |L5.316|
00013c  00                DCB      0
00013d  00                DCB      0
00013e  00                DCB      0
00013f  00                DCB      0
                  |L5.320|
000140  32203d20          DCB      "2 = %sprint stack on error\r\n",0
000144  25737072
000148  696e7420
00014c  73746163
000150  6b206f6e
000154  20657272
000158  6f720d0a
00015c  00      
00015d  00                DCB      0
00015e  00                DCB      0
00015f  00                DCB      0
                  |L5.352|
000160  33203d20          DCB      "3 = stop on error (do not continue)\r\n",0
000164  73746f70
000168  206f6e20
00016c  6572726f
000170  72202864
000174  6f206e6f
000178  7420636f
00017c  6e74696e
000180  7565290d
000184  0a00    
000186  00                DCB      0
000187  00                DCB      0
                  |L5.392|
000188  33203d20          DCB      "3 = continue on error (do not stop)\r\n",0
00018c  636f6e74
000190  696e7565
000194  206f6e20
000198  6572726f
00019c  72202864
0001a0  6f206e6f
0001a4  74207374
0001a8  6f70290d
0001ac  0a00    
0001ae  00                DCB      0
0001af  00                DCB      0
                  |L5.432|
0001b0  33203d20          DCB      "3 = mdi on error (do not continue or stop)\r\n",0
0001b4  6d646920
0001b8  6f6e2065
0001bc  72726f72
0001c0  2028646f
0001c4  206e6f74
0001c8  20636f6e
0001cc  74696e75
0001d0  65206f72
0001d4  2073746f
0001d8  70290d0a
0001dc  00      
0001dd  00                DCB      0
0001de  00                DCB      0
0001df  00                DCB      0
                  |L5.480|
0001e0  33203d20          DCB      "3 = stop on error (do not mdi or continue)\r\n",0
0001e4  73746f70
0001e8  206f6e20
0001ec  6572726f
0001f0  72202864
0001f4  6f206e6f
0001f8  74206d64
0001fc  69206f72
000200  20636f6e
000204  74696e75
000208  65290d0a
00020c  00      
00020d  00                DCB      0
00020e  00                DCB      0
00020f  00                DCB      0
                  |L5.528|
000210  33203d20          DCB      "3 = continue on error (do not stop or mdi)\r\n",0
000214  636f6e74
000218  696e7565
00021c  206f6e20
000220  6572726f
000224  72202864
000228  6f206e6f
00022c  74207374
000230  6f70206f
000234  72206d64
000238  69290d0a
00023c  00      
00023d  00                DCB      0
00023e  00                DCB      0
00023f  00                DCB      0
                  |L5.576|
000240  656e7465          DCB      "enter choice => ",0
000244  72206368
000248  6f696365
00024c  203d3e20
000250  00      
000251  00                DCB      0
000252  00                DCB      0
000253  00                DCB      0
                  |L5.596|
000254  256400            DCB      "%d",0
000257  00                DCB      0

                          AREA ||i.designate_parameter_file||, CODE, READONLY, ALIGN=2

                          REQUIRE _printf_percent
                          REQUIRE _printf_s
                          REQUIRE _printf_str
                  designate_parameter_file PROC
;;;444    
;;;445    int designate_parameter_file(char * file_name)
000000  b570              PUSH     {r4-r6,lr}
;;;446    {
000002  4604              MOV      r4,r0
;;;447        FILE * test_port;
;;;448    
;;;449        fprintf(stderr, "name of parameter file => ");
000004  a10c              ADR      r1,|L6.56|
000006  4813              LDR      r0,|L6.84|
000008  f7fffffe          BL       __2fprintf
;;;450        gets(file_name);
00000c  4620              MOV      r0,r4
00000e  f7fffffe          BL       gets
;;;451        test_port SET_TO fopen(file_name, "r");
000012  a111              ADR      r1,|L6.88|
000014  4620              MOV      r0,r4
000016  f7fffffe          BL       fopen
00001a  4605              MOV      r5,r0
;;;452        if (test_port IS NULL)
00001c  b935              CBNZ     r5,|L6.44|
;;;453        {
;;;454            fprintf(stderr, "Cannot open %s\r\n", file_name);
00001e  4622              MOV      r2,r4
000020  a10e              ADR      r1,|L6.92|
000022  480c              LDR      r0,|L6.84|
000024  f7fffffe          BL       __2fprintf
;;;455            return 1;
000028  2001              MOVS     r0,#1
                  |L6.42|
;;;456        }
;;;457        fclose(test_port);
;;;458        return 0;
;;;459    }
00002a  bd70              POP      {r4-r6,pc}
                  |L6.44|
00002c  4628              MOV      r0,r5                 ;457
00002e  f7fffffe          BL       fclose
000032  2000              MOVS     r0,#0                 ;458
000034  e7f9              B        |L6.42|
;;;460    
                          ENDP

000036  0000              DCW      0x0000
                  |L6.56|
000038  6e616d65          DCB      "name of parameter file => ",0
00003c  206f6620
000040  70617261
000044  6d657465
000048  72206669
00004c  6c65203d
000050  3e2000  
000053  00                DCB      0
                  |L6.84|
                          DCD      __stderr
                  |L6.88|
000058  7200              DCB      "r",0
00005a  00                DCB      0
00005b  00                DCB      0
                  |L6.92|
00005c  43616e6e          DCB      "Cannot open %s\r\n",0
000060  6f74206f
000064  70656e20
000068  25730d0a
00006c  00      
00006d  00                DCB      0
00006e  00                DCB      0
00006f  00                DCB      0

                          AREA ||i.fputc||, CODE, READONLY, ALIGN=2

                  fputc PROC
;;;988    *******************************************************************************/
;;;989    int fputc(int ch, FILE *f)
000000  b570              PUSH     {r4-r6,lr}
;;;990    {
000002  4604              MOV      r4,r0
000004  460d              MOV      r5,r1
;;;991      /* Place your implementation of fputc here */
;;;992      /* e.g. write a character to the USART */
;;;993      USART_SendData(USART1, (u8) ch);
000006  b2e1              UXTB     r1,r4
000008  4805              LDR      r0,|L7.32|
00000a  f7fffffe          BL       USART_SendData
;;;994    
;;;995      /* Loop until the end of transmission */
;;;996      while(USART_GetFlagStatus(USART1, USART_FLAG_TC) == RESET)
00000e  bf00              NOP      
                  |L7.16|
000010  2140              MOVS     r1,#0x40
000012  4803              LDR      r0,|L7.32|
000014  f7fffffe          BL       USART_GetFlagStatus
000018  2800              CMP      r0,#0
00001a  d0f9              BEQ      |L7.16|
;;;997      {
;;;998      }
;;;999    
;;;1000     return ch;
00001c  4620              MOV      r0,r4
;;;1001   }
00001e  bd70              POP      {r4-r6,pc}
;;;1002   
                          ENDP

                  |L7.32|
                          DCD      0x40013800

                          AREA ||i.interpret_from_file||, CODE, READONLY, ALIGN=2

                  interpret_from_file PROC
;;;250    
;;;251    int interpret_from_file(                          /* ARGUMENTS                  */
000000  b5f0              PUSH     {r4-r7,lr}
;;;252    int do_next,                                      /* what to do if error        */
;;;253    int block_delete,                                 /* switch which is ON or OFF  */
;;;254    int print_stack)                                  /* option which is ON or OFF  */
;;;255    {
000002  b0c1              SUB      sp,sp,#0x104
000004  4605              MOV      r5,r0
000006  460e              MOV      r6,r1
000008  4617              MOV      r7,r2
;;;256        int status;
;;;257        char line[RS274NGC_TEXT_SIZE];
;;;258    
;;;259        for(; ;)
00000a  bf00              NOP      
                  |L8.12|
;;;260        {
;;;261            status SET_TO rs274ngc_read(NULL);
00000c  2000              MOVS     r0,#0
00000e  f7fffffe          BL       rs274ngc_read
000012  4604              MOV      r4,r0
;;;262            if ((status IS RS274NGC_EXECUTE_FINISH) AND (block_delete IS ON))
000014  2c02              CMP      r4,#2
000016  d102              BNE      |L8.30|
000018  2e01              CMP      r6,#1
00001a  d100              BNE      |L8.30|
;;;263                continue;
00001c  e7f6              B        |L8.12|
                  |L8.30|
;;;264            else if (status IS RS274NGC_ENDFILE)
00001e  2c03              CMP      r4,#3
000020  d100              BNE      |L8.36|
;;;265                break;
000022  e055              B        |L8.208|
                  |L8.36|
;;;266            if ((status ISNT RS274NGC_OK) AND         // should not be EXIT
000024  2c00              CMP      r4,#0
000026  d027              BEQ      |L8.120|
;;;267                (status ISNT RS274NGC_EXECUTE_FINISH))
000028  2c02              CMP      r4,#2
00002a  d025              BEQ      |L8.120|
;;;268            {
;;;269                report_error(status, print_stack);
00002c  4639              MOV      r1,r7
00002e  4620              MOV      r0,r4
000030  f7fffffe          BL       report_error
;;;270                if ((status IS NCE_FILE_ENDED_WITH_NO_PERCENT_SIGN) OR
000034  2c50              CMP      r4,#0x50
000036  d001              BEQ      |L8.60|
;;;271                    (do_next IS 2))                   /* 2 means stop */
000038  2d02              CMP      r5,#2
00003a  d103              BNE      |L8.68|
                  |L8.60|
;;;272                {
;;;273                    status SET_TO 1;
00003c  f04f0001          MOV      r0,#1
000040  4604              MOV      r4,r0
;;;274                    break;
000042  e045              B        |L8.208|
                  |L8.68|
;;;275                }
;;;276                else if (do_next IS 1)                /* 1 means MDI */
000044  2d01              CMP      r5,#1
000046  d116              BNE      |L8.118|
;;;277                {
;;;278                    fprintf(stderr, "starting MDI\r\n");
000048  a125              ADR      r1,|L8.224|
00004a  4829              LDR      r0,|L8.240|
00004c  f7fffffe          BL       __2fprintf
;;;279                    interpret_from_keyboard(block_delete, print_stack);
000050  4639              MOV      r1,r7
000052  4630              MOV      r0,r6
000054  f7fffffe          BL       interpret_from_keyboard
;;;280                    fprintf(stderr, "continue program? y/n =>");
000058  a126              ADR      r1,|L8.244|
00005a  4825              LDR      r0,|L8.240|
00005c  f7fffffe          BL       __2fprintf
;;;281                    gets(line);
000060  a801              ADD      r0,sp,#4
000062  f7fffffe          BL       gets
;;;282                    if (line[0] ISNT 'y')
000066  f89d0004          LDRB     r0,[sp,#4]
00006a  2879              CMP      r0,#0x79
00006c  d002              BEQ      |L8.116|
;;;283                    {
;;;284                        status SET_TO 1;
00006e  4628              MOV      r0,r5
000070  4604              MOV      r4,r0
;;;285                        break;
000072  e02d              B        |L8.208|
                  |L8.116|
;;;286                    }
;;;287                    else
;;;288                        continue;
000074  e7ca              B        |L8.12|
                  |L8.118|
;;;289                }
;;;290                else                                  /* if do_next IS 0 -- 0 means continue */
;;;291                    continue;
000076  e7c9              B        |L8.12|
                  |L8.120|
;;;292            }
;;;293            status SET_TO rs274ngc_execute();
000078  f7fffffe          BL       rs274ngc_execute
00007c  4604              MOV      r4,r0
;;;294            if ((status ISNT RS274NGC_OK) AND
00007e  b31c              CBZ      r4,|L8.200|
;;;295                (status ISNT RS274NGC_EXIT) AND
000080  2c01              CMP      r4,#1
000082  d021              BEQ      |L8.200|
;;;296                (status ISNT RS274NGC_EXECUTE_FINISH))
000084  2c02              CMP      r4,#2
000086  d01f              BEQ      |L8.200|
;;;297            {
;;;298                report_error(status, print_stack);
000088  4639              MOV      r1,r7
00008a  4620              MOV      r0,r4
00008c  f7fffffe          BL       report_error
;;;299                status SET_TO 1;
000090  f04f0001          MOV      r0,#1
000094  4604              MOV      r4,r0
;;;300                if (do_next IS 1)                     /* 1 means MDI */
000096  2d01              CMP      r5,#1
000098  d113              BNE      |L8.194|
;;;301                {
;;;302                    fprintf(stderr, "starting MDI\r\n");
00009a  a111              ADR      r1,|L8.224|
00009c  4814              LDR      r0,|L8.240|
00009e  f7fffffe          BL       __2fprintf
;;;303                    interpret_from_keyboard(block_delete, print_stack);
0000a2  4639              MOV      r1,r7
0000a4  4630              MOV      r0,r6
0000a6  f7fffffe          BL       interpret_from_keyboard
;;;304                    fprintf(stderr, "continue program? y/n =>");
0000aa  a112              ADR      r1,|L8.244|
0000ac  4810              LDR      r0,|L8.240|
0000ae  f7fffffe          BL       __2fprintf
;;;305                    gets(line);
0000b2  a801              ADD      r0,sp,#4
0000b4  f7fffffe          BL       gets
;;;306                    if (line[0] ISNT 'y')
0000b8  f89d0004          LDRB     r0,[sp,#4]
0000bc  2879              CMP      r0,#0x79
0000be  d006              BEQ      |L8.206|
;;;307                        break;
0000c0  e006              B        |L8.208|
                  |L8.194|
;;;308                }
;;;309                else if (do_next IS 2)                /* 2 means stop */
0000c2  2d02              CMP      r5,#2
0000c4  d103              BNE      |L8.206|
;;;310                    break;
0000c6  e003              B        |L8.208|
                  |L8.200|
;;;311            }
;;;312            else if (status IS RS274NGC_EXIT)
0000c8  2c01              CMP      r4,#1
0000ca  d100              BNE      |L8.206|
;;;313                break;
0000cc  e000              B        |L8.208|
                  |L8.206|
0000ce  e79d              B        |L8.12|
                  |L8.208|
0000d0  bf00              NOP                            ;265
;;;314        }
;;;315        return ((status IS 1) ? 1 : 0);
0000d2  2c01              CMP      r4,#1
0000d4  d102              BNE      |L8.220|
0000d6  2001              MOVS     r0,#1
                  |L8.216|
;;;316    }
0000d8  b041              ADD      sp,sp,#0x104
0000da  bdf0              POP      {r4-r7,pc}
                  |L8.220|
0000dc  2000              MOVS     r0,#0                 ;315
0000de  e7fb              B        |L8.216|
;;;317    
                          ENDP

                  |L8.224|
0000e0  73746172          DCB      "starting MDI\r\n",0
0000e4  74696e67
0000e8  204d4449
0000ec  0d0a00  
0000ef  00                DCB      0
                  |L8.240|
                          DCD      __stderr
                  |L8.244|
0000f4  636f6e74          DCB      "continue program? y/n =>",0
0000f8  696e7565
0000fc  2070726f
000100  6772616d
000104  3f20792f
000108  6e203d3e
00010c  00      
00010d  00                DCB      0
00010e  00                DCB      0
00010f  00                DCB      0

                          AREA ||i.interpret_from_keyboard||, CODE, READONLY, ALIGN=2

                  interpret_from_keyboard PROC
;;;157    
;;;158    int interpret_from_keyboard(                      /* ARGUMENTS                 */
000000  e92d41f0          PUSH     {r4-r8,lr}
;;;159    int block_delete,                                 /* switch which is ON or OFF */
;;;160    int print_stack)                                  /* option which is ON or OFF */
;;;161    {
000004  b0c0              SUB      sp,sp,#0x100
000006  4607              MOV      r7,r0
000008  4688              MOV      r8,r1
;;;162        char line[RS274NGC_TEXT_SIZE];
;;;163        int status;
;;;164    	char temp;
;;;165    	u16 count=0;
00000a  f04f0000          MOV      r0,#0
00000e  4606              MOV      r6,r0
;;;166    
;;;167        for(; ;)
000010  bf00              NOP      
                  |L9.18|
;;;168        {
;;;169    		while(1)
000012  e02b              B        |L9.108|
                  |L9.20|
;;;170    		{	
;;;171    			temp =  _nc_code_buffer[gNowChar];
000014  482b              LDR      r0,|L9.196|
000016  492c              LDR      r1,|L9.200|
000018  6809              LDR      r1,[r1,#0]  ; gNowChar
00001a  5c45              LDRB     r5,[r0,r1]
;;;172    			gNowChar = gNowChar + 1;
00001c  482a              LDR      r0,|L9.200|
00001e  6800              LDR      r0,[r0,#0]  ; gNowChar
000020  f1000001          ADD      r0,r0,#1
000024  4928              LDR      r1,|L9.200|
000026  6008              STR      r0,[r1,#0]  ; gNowChar
;;;173    			if(gNowChar<strlen(_nc_code_buffer))
000028  4826              LDR      r0,|L9.196|
00002a  f7fffffe          BL       strlen
00002e  4926              LDR      r1,|L9.200|
000030  6809              LDR      r1,[r1,#0]  ; gNowChar
000032  4288              CMP      r0,r1
000034  d91a              BLS      |L9.108|
;;;174    			{
;;;175    				if(temp=='%')
000036  2d25              CMP      r5,#0x25
000038  d100              BNE      |L9.60|
;;;176    				{
;;;177    					//整段结束
;;;178    					break;
00003a  e018              B        |L9.110|
                  |L9.60|
;;;179    				}
;;;180    				else
;;;181    				{
;;;182    					if(temp==';')
00003c  2d3b              CMP      r5,#0x3b
00003e  d10e              BNE      |L9.94|
;;;183    					{
;;;184    						for(;count<RS274NGC_TEXT_SIZE;count++)			
000040  e007              B        |L9.82|
                  |L9.66|
;;;185    						{
;;;186    							line[count]='\0';
000042  f04f0000          MOV      r0,#0
000046  f80d0006          STRB     r0,[sp,r6]
00004a  f1060001          ADD      r0,r6,#1              ;184
00004e  b280              UXTH     r0,r0                 ;184
000050  4606              MOV      r6,r0                 ;184
                  |L9.82|
000052  2eff              CMP      r6,#0xff              ;184
000054  ddf5              BLE      |L9.66|
;;;187    						}
;;;188    						count=0;
000056  f04f0000          MOV      r0,#0
00005a  4606              MOV      r6,r0
;;;189    						break;
00005c  e007              B        |L9.110|
                  |L9.94|
;;;190    					}
;;;191    					else
;;;192    					{
;;;193    						line[count++]=temp;
00005e  4630              MOV      r0,r6
000060  f1060101          ADD      r1,r6,#1
000064  b289              UXTH     r1,r1
000066  460e              MOV      r6,r1
000068  f80d5000          STRB     r5,[sp,r0]
                  |L9.108|
00006c  e7d2              B        |L9.20|
                  |L9.110|
00006e  bf00              NOP                            ;178
;;;194    					}
;;;195    				}
;;;196    			}
;;;197    		}
;;;198            if (strcmp (line, "quit") IS 0)
000070  a116              ADR      r1,|L9.204|
000072  4668              MOV      r0,sp
000074  f7fffffe          BL       strcmp
000078  b918              CBNZ     r0,|L9.130|
;;;199                return 0;
00007a  2000              MOVS     r0,#0
;;;200            status SET_TO rs274ngc_read(line);
;;;201            if ((status IS RS274NGC_EXECUTE_FINISH) AND (block_delete IS ON));
;;;202            else if (status IS RS274NGC_ENDFILE);
;;;203            else if ((status ISNT RS274NGC_EXECUTE_FINISH) AND
;;;204                (status ISNT RS274NGC_OK))
;;;205                report_error(status, print_stack);
;;;206            else
;;;207            {
;;;208                status SET_TO rs274ngc_execute();    
;;;209                if ((status IS RS274NGC_EXIT) OR
;;;210                    (status IS RS274NGC_EXECUTE_FINISH));
;;;211                else if (status ISNT RS274NGC_OK)
;;;212                    report_error(status, print_stack);
;;;213            }
;;;214        }
;;;215    }
00007c  b040              ADD      sp,sp,#0x100
00007e  e8bd81f0          POP      {r4-r8,pc}
                  |L9.130|
000082  4668              MOV      r0,sp                 ;200
000084  f7fffffe          BL       rs274ngc_read
000088  4604              MOV      r4,r0                 ;200
00008a  2c02              CMP      r4,#2                 ;201
00008c  d101              BNE      |L9.146|
00008e  2f01              CMP      r7,#1                 ;201
000090  d0bf              BEQ      |L9.18|
                  |L9.146|
000092  2c03              CMP      r4,#3                 ;202
000094  d0bd              BEQ      |L9.18|
000096  2c02              CMP      r4,#2                 ;203
000098  d005              BEQ      |L9.166|
00009a  b124              CBZ      r4,|L9.166|
00009c  4641              MOV      r1,r8                 ;205
00009e  4620              MOV      r0,r4                 ;205
0000a0  f7fffffe          BL       report_error
0000a4  e7b5              B        |L9.18|
                  |L9.166|
0000a6  f7fffffe          BL       rs274ngc_execute
0000aa  4604              MOV      r4,r0                 ;208
0000ac  2c01              CMP      r4,#1                 ;209
0000ae  d0b0              BEQ      |L9.18|
0000b0  2c02              CMP      r4,#2                 ;210
0000b2  d0ae              BEQ      |L9.18|
0000b4  2c00              CMP      r4,#0                 ;211
0000b6  d0ac              BEQ      |L9.18|
0000b8  4641              MOV      r1,r8                 ;212
0000ba  4620              MOV      r0,r4                 ;212
0000bc  f7fffffe          BL       report_error
0000c0  e7a7              B        |L9.18|
;;;216    
                          ENDP

0000c2  0000              DCW      0x0000
                  |L9.196|
                          DCD      _nc_code_buffer
                  |L9.200|
                          DCD      gNowChar
                  |L9.204|
0000cc  71756974          DCB      "quit",0
0000d0  00      
0000d1  00                DCB      0
0000d2  00                DCB      0
0000d3  00                DCB      0

                          AREA ||i.main||, CODE, READONLY, ALIGN=2

                          REQUIRE _printf_percent
                          REQUIRE _printf_s
                          REQUIRE _printf_str
                          REQUIRE _printf_str
                  main PROC
;;;646    
;;;647    int main(int argc, char ** argv)
000000  e92d47f0          PUSH     {r4-r10,lr}
;;;648    {  
000004  b0b4              SUB      sp,sp,#0xd0
000006  4607              MOV      r7,r0
000008  460d              MOV      r5,r1
;;;649    /******************************RS274NGC之变量声明部分开始******************************/
;;;650    	int status;
;;;651    	int choice;
;;;652    	int do_next;                                  /* 0=continue, 1=mdi, 2=stop */
;;;653    	int block_delete;
;;;654    	int tool_flag;
;;;655    	char buffer[80];
;;;656    	int gees[RS274NGC_ACTIVE_G_CODES];
;;;657    	int ems[RS274NGC_ACTIVE_M_CODES];
;;;658    	double sets[RS274NGC_ACTIVE_SETTINGS];
;;;659    	char default_name[] SET_TO "rs274ngc.var";
00000a  a35c              ADR      r3,|L10.380|
00000c  cb0f              LDM      r3,{r0-r3}
00000e  ac02              ADD      r4,sp,#8
000010  c40f              STM      r4!,{r0-r3}
;;;660    	int print_stack;
;;;661    	u16 i=0;
000012  f04f0000          MOV      r0,#0
000016  4681              MOV      r9,r0
;;;662    /******************************RS274NGC之变量声明部分结束******************************/	
;;;663    	
;;;664    	
;;;665       
;;;666       
;;;667    #ifdef DEBUG
;;;668      debug();
;;;669    #endif
;;;670    
;;;671    	/* Configure the system clocks */
;;;672    	RCC_Configuration();
000018  f7fffffe          BL       RCC_Configuration
;;;673    	
;;;674    	/* NVIC Configuration */
;;;675    	NVIC_Configuration();
00001c  f7fffffe          BL       NVIC_Configuration
;;;676    	
;;;677    	/* Configure the GPIOs */
;;;678    	GPIO_Configuration();
000020  f7fffffe          BL       GPIO_Configuration
;;;679    	
;;;680    	/* Configure the USART1 */
;;;681    	USART_Configuration();
000024  f7fffffe          BL       USART_Configuration
;;;682    	
;;;683    	
;;;684    	//printf("\r\n Welcome to www.PowerAVR.com \r\n");
;;;685    	//printf("\r\n Please Input Character From Keyboard \r\n");
;;;686    
;;;687        
;;;688    /******************************RS274/NGC源码的main函数开始******************************/
;;;689      	/*
;;;690    	if (argc > 3)
;;;691    	{
;;;692    	    fprintf(stderr, "Usage \"%s\"\r\n", argv[0]);
;;;693    	    fprintf(stderr, "   or \"%s <input file>\"\r\n", argv[0]);
;;;694    	    fprintf(stderr, "   or \"%s <input file> <output file>\"\r\n", argv[0])
;;;695    	    //exit(1);
;;;696    		return 1;
;;;697    	}
;;;698    	*/
;;;699    	buffer[0]='1';
000028  f04f0031          MOV      r0,#0x31
00002c  f88d007c          STRB     r0,[sp,#0x7c]
;;;700    	i=0;
000030  f04f0000          MOV      r0,#0
000034  4681              MOV      r9,r0
;;;701    	choice=1;
000036  f04f0001          MOV      r0,#1
00003a  4604              MOV      r4,r0
;;;702    
;;;703    	do_next SET_TO 2;                             /* 2=stop */
00003c  f04f0002          MOV      r0,#2
000040  9033              STR      r0,[sp,#0xcc]
;;;704    	block_delete SET_TO OFF;
000042  f04f0000          MOV      r0,#0
000046  4606              MOV      r6,r0
;;;705    	print_stack SET_TO OFF;
000048  9001              STR      r0,[sp,#4]
;;;706    	tool_flag SET_TO 0;
00004a  4680              MOV      r8,r0
;;;707    	strcpy(_parameter_file_name, default_name);
00004c  a902              ADD      r1,sp,#8
00004e  484f              LDR      r0,|L10.396|
000050  f7fffffe          BL       strcpy
;;;708    	_outfile SET_TO stdout;                       /* may be reset below */
000054  484e              LDR      r0,|L10.400|
000056  494f              LDR      r1,|L10.404|
000058  6008              STR      r0,[r1,#0]  ; _outfile
;;;709    	
;;;710    	for(; ;)
00005a  bf00              NOP      
                  |L10.92|
;;;711    	{
;;;712    	    fprintf(stderr, "\r\nenter a number:\r\n");
00005c  a14e              ADR      r1,|L10.408|
00005e  4853              LDR      r0,|L10.428|
000060  f7fffffe          BL       __2fprintf
;;;713    	    fprintf(stderr, "1 = start interpreting\r\n");
000064  a152              ADR      r1,|L10.432|
000066  4851              LDR      r0,|L10.428|
000068  f7fffffe          BL       __2fprintf
;;;714    	    fprintf(stderr, "2 = choose parameter file ...\r\n");
00006c  a157              ADR      r1,|L10.460|
00006e  484f              LDR      r0,|L10.428|
000070  f7fffffe          BL       __2fprintf
;;;715    	    fprintf(stderr, "3 = read tool file ...\r\n");
000074  a15d              ADR      r1,|L10.492|
000076  484d              LDR      r0,|L10.428|
000078  f7fffffe          BL       __2fprintf
;;;716    	    fprintf(stderr, "4 = turn block delete switch %s\r\n",
00007c  b90e              CBNZ     r6,|L10.130|
;;;717    	        ((block_delete IS OFF) ? "ON" : "OFF"));
00007e  a062              ADR      r0,|L10.520|
000080  e000              B        |L10.132|
                  |L10.130|
000082  a062              ADR      r0,|L10.524|
                  |L10.132|
000084  4602              MOV      r2,r0
000086  a162              ADR      r1,|L10.528|
000088  4848              LDR      r0,|L10.428|
00008a  f7fffffe          BL       __2fprintf
;;;718    	    fprintf(stderr, "5 = adjust error handling...\r\n");
00008e  a169              ADR      r1,|L10.564|
000090  4846              LDR      r0,|L10.428|
000092  f7fffffe          BL       __2fprintf
;;;719    	    fprintf(stderr, "enter choice => 1\r\n");
000096  a16f              ADR      r1,|L10.596|
000098  4844              LDR      r0,|L10.428|
00009a  f7fffffe          BL       __2fprintf
;;;720    	    //gets(buffer);
;;;721    	    //if (sscanf(buffer, "%d", &choice) ISNT 1)
;;;722    	    //    continue;
;;;723    	    if (choice IS 1)
00009e  2c01              CMP      r4,#1
0000a0  d100              BNE      |L10.164|
;;;724    	        break;
0000a2  e028              B        |L10.246|
                  |L10.164|
;;;725    	    else if (choice IS 2)
0000a4  2c02              CMP      r4,#2
0000a6  d108              BNE      |L10.186|
;;;726    	    {
;;;727    	        if (designate_parameter_file(_parameter_file_name) ISNT 0)
0000a8  4838              LDR      r0,|L10.396|
0000aa  f7fffffe          BL       designate_parameter_file
0000ae  2800              CMP      r0,#0
0000b0  d0d4              BEQ      |L10.92|
;;;728    				return 1;
0000b2  2001              MOVS     r0,#1
                  |L10.180|
;;;729    /*	            exit(1);*/
;;;730    	    }
;;;731    	    else if (choice IS 3)
;;;732    	    {
;;;733    	        if (read_tool_file("") ISNT 0)
;;;734    				return 1;
;;;735    /*	            exit(1);*/
;;;736    	        tool_flag SET_TO 1;
;;;737    	    }
;;;738    	    else if (choice IS 4)
;;;739    	        block_delete SET_TO ((block_delete IS OFF) ? ON : OFF);
;;;740    	    else if (choice IS 5)
;;;741    	        adjust_error_handling(argc, &print_stack, &do_next);
;;;742    	}
;;;743    	fprintf(stderr, "executing\r\n");
;;;744    	if (tool_flag IS 0)
;;;745    	{
;;;746    	    if (read_tool_file("rs274ngc.tool_default") ISNT 0)
;;;747    			return 1;
;;;748    /*	        exit(1);*/
;;;749    	}
;;;750    	
;;;751    	if (argc IS 3)
;;;752    	{
;;;753    	    _outfile SET_TO fopen(argv[2], "w");
;;;754    	    if (_outfile IS NULL)
;;;755    	    {
;;;756    	        fprintf(stderr, "could not open output file %s\r\n", argv[2]);
;;;757    			return 1;
;;;758    /*	        exit(1);*/
;;;759    	    }
;;;760    	}
;;;761    	
;;;762    	if ((status SET_TO rs274ngc_init()) ISNT RS274NGC_OK)
;;;763    	{
;;;764    	    report_error(status, print_stack);
;;;765    		return 1;
;;;766    /*	    exit(1);*/
;;;767    	}
;;;768    	
;;;769    //	if (argc IS 1)
;;;770    	    status SET_TO interpret_from_keyboard(block_delete, print_stack);
;;;771    //	else                                          /* if (argc IS 2 or argc IS 3) */
;;;772    //	{
;;;773    //	    status SET_TO rs274ngc_open(argv[1]);
;;;774    //	    if (status ISNT RS274NGC_OK)              /* do not need to close since not open */
;;;775    //	    {
;;;776    //	        report_error(status, print_stack);
;;;777    //			return 1;
;;;778    ///*	        exit(1);*/
;;;779    //	    }
;;;780    //	    status SET_TO interpret_from_file(do_next, block_delete, print_stack);
;;;781    //	    rs274ngc_file_name(buffer, 5);            /* called to exercise the function */
;;;782    //	    rs274ngc_file_name(buffer, 79);           /* called to exercise the function */
;;;783    //	    rs274ngc_close();
;;;784    //	}
;;;785    	rs274ngc_line_length();                       /* called to exercise the function */
;;;786    	rs274ngc_sequence_number();                   /* called to exercise the function */
;;;787    	rs274ngc_active_g_codes(gees);                /* called to exercise the function */
;;;788    	rs274ngc_active_m_codes(ems);                 /* called to exercise the function */
;;;789    	rs274ngc_active_settings(sets);               /* called to exercise the function */
;;;790    	rs274ngc_exit();                              /* saves parameters */
;;;791    	return(status);
;;;792    /*	exit(status);*/
;;;793    /******************************RS274/NGC源码的main函数结束******************************/
;;;794    /*	while(1)
;;;795    	{	
;;;796    		if(USART_GetFlagStatus(USART1,USART_IT_RXNE)==SET)
;;;797    		{	           
;;;798    			i = USART_ReceiveData(USART1);
;;;799    			printf("  %c",i&0xFF);
;;;800    					
;;;801    		}
;;;802    	}*/
;;;803    }
0000b4  b034              ADD      sp,sp,#0xd0
0000b6  e8bd87f0          POP      {r4-r10,pc}
                  |L10.186|
0000ba  2c03              CMP      r4,#3                 ;731
0000bc  d109              BNE      |L10.210|
0000be  a032              ADR      r0,|L10.392|
0000c0  f7fffffe          BL       read_tool_file
0000c4  b108              CBZ      r0,|L10.202|
0000c6  2001              MOVS     r0,#1                 ;734
0000c8  e7f4              B        |L10.180|
                  |L10.202|
0000ca  f04f0001          MOV      r0,#1                 ;736
0000ce  4680              MOV      r8,r0                 ;736
0000d0  e7c4              B        |L10.92|
                  |L10.210|
0000d2  2c04              CMP      r4,#4                 ;738
0000d4  d107              BNE      |L10.230|
0000d6  b916              CBNZ     r6,|L10.222|
0000d8  f04f0001          MOV      r0,#1                 ;739
0000dc  e001              B        |L10.226|
                  |L10.222|
0000de  f04f0000          MOV      r0,#0                 ;739
                  |L10.226|
0000e2  4606              MOV      r6,r0                 ;739
0000e4  e7ba              B        |L10.92|
                  |L10.230|
0000e6  2c05              CMP      r4,#5                 ;740
0000e8  d1b8              BNE      |L10.92|
0000ea  aa33              ADD      r2,sp,#0xcc           ;741
0000ec  a901              ADD      r1,sp,#4              ;741
0000ee  4638              MOV      r0,r7                 ;741
0000f0  f7fffffe          BL       adjust_error_handling
0000f4  e7b2              B        |L10.92|
                  |L10.246|
0000f6  bf00              NOP                            ;724
0000f8  a15b              ADR      r1,|L10.616|
0000fa  482c              LDR      r0,|L10.428|
0000fc  f7fffffe          BL       __2fprintf
000100  f1b80f00          CMP      r8,#0                 ;744
000104  d105              BNE      |L10.274|
000106  a05b              ADR      r0,|L10.628|
000108  f7fffffe          BL       read_tool_file
00010c  b108              CBZ      r0,|L10.274|
00010e  2001              MOVS     r0,#1                 ;747
000110  e7d0              B        |L10.180|
                  |L10.274|
000112  2f03              CMP      r7,#3                 ;751
000114  d111              BNE      |L10.314|
000116  68a9              LDR      r1,[r5,#8]            ;753
000118  4608              MOV      r0,r1                 ;753
00011a  a15c              ADR      r1,|L10.652|
00011c  f7fffffe          BL       fopen
000120  491c              LDR      r1,|L10.404|
000122  6008              STR      r0,[r1,#0]            ;753  ; _outfile
000124  4608              MOV      r0,r1                 ;754
000126  6800              LDR      r0,[r0,#0]            ;754  ; _outfile
000128  b938              CBNZ     r0,|L10.314|
00012a  68a8              LDR      r0,[r5,#8]            ;756
00012c  4602              MOV      r2,r0                 ;756
00012e  a158              ADR      r1,|L10.656|
000130  481e              LDR      r0,|L10.428|
000132  f7fffffe          BL       __2fprintf
000136  2001              MOVS     r0,#1                 ;757
000138  e7bc              B        |L10.180|
                  |L10.314|
00013a  f7fffffe          BL       rs274ngc_init
00013e  ea5f0a00          MOVS     r10,r0                ;762
000142  d005              BEQ      |L10.336|
000144  4650              MOV      r0,r10                ;764
000146  9901              LDR      r1,[sp,#4]            ;764
000148  f7fffffe          BL       report_error
00014c  2001              MOVS     r0,#1                 ;765
00014e  e7b1              B        |L10.180|
                  |L10.336|
000150  4630              MOV      r0,r6                 ;770
000152  9901              LDR      r1,[sp,#4]            ;770
000154  f7fffffe          BL       interpret_from_keyboard
000158  4682              MOV      r10,r0                ;770
00015a  f7fffffe          BL       rs274ngc_line_length
00015e  f7fffffe          BL       rs274ngc_sequence_number
000162  a813              ADD      r0,sp,#0x4c           ;787
000164  f7fffffe          BL       rs274ngc_active_g_codes
000168  a80c              ADD      r0,sp,#0x30           ;788
00016a  f7fffffe          BL       rs274ngc_active_m_codes
00016e  a806              ADD      r0,sp,#0x18           ;789
000170  f7fffffe          BL       rs274ngc_active_settings
000174  f7fffffe          BL       rs274ngc_exit
000178  4650              MOV      r0,r10                ;791
00017a  e79b              B        |L10.180|
;;;804    
                          ENDP

                  |L10.380|
00017c  72733237          DCB      "rs274ngc.var"
000180  346e6763
000184  2e766172
                  |L10.392|
000188  00                DCB      0
000189  00                DCB      0
00018a  00                DCB      0
00018b  00                DCB      0
                  |L10.396|
                          DCD      _parameter_file_name
                  |L10.400|
                          DCD      __stdout
                  |L10.404|
                          DCD      _outfile
                  |L10.408|
000198  0d0a656e          DCB      "\r\nenter a number:\r\n",0
00019c  74657220
0001a0  61206e75
0001a4  6d626572
0001a8  3a0d0a00
                  |L10.428|
                          DCD      __stderr
                  |L10.432|
0001b0  31203d20          DCB      "1 = start interpreting\r\n",0
0001b4  73746172
0001b8  7420696e
0001bc  74657270
0001c0  72657469
0001c4  6e670d0a
0001c8  00      
0001c9  00                DCB      0
0001ca  00                DCB      0
0001cb  00                DCB      0
                  |L10.460|
0001cc  32203d20          DCB      "2 = choose parameter file ...\r\n",0
0001d0  63686f6f
0001d4  73652070
0001d8  6172616d
0001dc  65746572
0001e0  2066696c
0001e4  65202e2e
0001e8  2e0d0a00
                  |L10.492|
0001ec  33203d20          DCB      "3 = read tool file ...\r\n",0
0001f0  72656164
0001f4  20746f6f
0001f8  6c206669
0001fc  6c65202e
000200  2e2e0d0a
000204  00      
000205  00                DCB      0
000206  00                DCB      0
000207  00                DCB      0
                  |L10.520|
000208  4f4e00            DCB      "ON",0
00020b  00                DCB      0
                  |L10.524|
00020c  4f464600          DCB      "OFF",0
                  |L10.528|
000210  34203d20          DCB      "4 = turn block delete switch %s\r\n",0
000214  7475726e
000218  20626c6f
00021c  636b2064
000220  656c6574
000224  65207377
000228  69746368
00022c  2025730d
000230  0a00    
000232  00                DCB      0
000233  00                DCB      0
                  |L10.564|
000234  35203d20          DCB      "5 = adjust error handling...\r\n",0
000238  61646a75
00023c  73742065
000240  72726f72
000244  2068616e
000248  646c696e
00024c  672e2e2e
000250  0d0a00  
000253  00                DCB      0
                  |L10.596|
000254  656e7465          DCB      "enter choice => 1\r\n",0
000258  72206368
00025c  6f696365
000260  203d3e20
000264  310d0a00
                  |L10.616|
000268  65786563          DCB      "executing\r\n",0
00026c  7574696e
000270  670d0a00
                  |L10.628|
000274  72733237          DCB      "rs274ngc.tool_default",0
000278  346e6763
00027c  2e746f6f
000280  6c5f6465
000284  6661756c
000288  7400    
00028a  00                DCB      0
00028b  00                DCB      0
                  |L10.652|
00028c  7700              DCB      "w",0
00028e  00                DCB      0
00028f  00                DCB      0
                  |L10.656|
000290  636f756c          DCB      "could not open output file %s\r\n",0
000294  64206e6f
000298  74206f70
00029c  656e206f
0002a0  75747075
0002a4  74206669
0002a8  6c652025
0002ac  730d0a00

                          AREA ||i.read_tool_file||, CODE, READONLY, ALIGN=2

                  read_tool_file PROC
;;;353    
;;;354    int read_tool_file(                               /* ARGUMENTS         */
000000  b530              PUSH     {r4,r5,lr}
;;;355    char * file_name)                                 /* name of tool file */
;;;356    {
000002  4602              MOV      r2,r0
;;;357    //    FILE * tool_file_port;
;;;358    //    char buffer[1000];
;;;359    		int slot;
;;;360    //    int tool_id;
;;;361    //    double offset;
;;;362    //    double diameter;
;;;363    //
;;;364    //    if (file_name[0] IS 0)                        /* ask for name if given name is empty string */
;;;365    //    {
;;;366    //        fprintf(stderr, "name of tool file => ");
;;;367    //        gets(buffer);
;;;368    //        tool_file_port SET_TO fopen(buffer, "r");
;;;369    //    }
;;;370    //    else
;;;371    //        tool_file_port SET_TO fopen(file_name, "r");
;;;372    //    if (tool_file_port IS NULL)
;;;373    //    {
;;;374    //        fprintf(stderr, "Cannot open %s\r\n",
;;;375    //            ((file_name[0] IS 0) ? buffer : file_name));
;;;376    //        return 1;
;;;377    //    }
;;;378    //    for(;;)                                       /* read and discard header, checking for blank line */
;;;379    //    {
;;;380    //        if (fgets(buffer, 1000, tool_file_port) IS NULL)
;;;381    //        {
;;;382    //            fprintf(stderr, "Bad tool file format\r\n");
;;;383    //            return 1;
;;;384    //        }
;;;385    //        else if (buffer[0] IS '\n')
;;;386    //            break;
;;;387    //    }
;;;388    //
;;;389    //    for (slot SET_TO 0; slot <= _tool_max; slot++)/* initialize */
;;;390    //    {
;;;391    //        _tools[slot].id SET_TO -1;
;;;392    //        _tools[slot].length SET_TO 0;
;;;393    //        _tools[slot].diameter SET_TO 0;
;;;394    //    }
;;;395    //    for (; (fgets(buffer, 1000, tool_file_port) ISNT NULL); )
;;;396    //    {
;;;397    //        if (sscanf(buffer, "%d %d %lf %lf", &slot,
;;;398    //            &tool_id, &offset, &diameter) < 4)
;;;399    //        {
;;;400    //            fprintf(stderr, "Bad input line \"%s\" in tool file\r\n", buffer);
;;;401    //            return 1;
;;;402    //        }
;;;403    //        if ((slot < 0) OR (slot > _tool_max))     /* zero and max both OK */
;;;404    //        {
;;;405    //            fprintf(stderr, "Out of range tool slot number %d\r\n", slot);
;;;406    //            return 1;
;;;407    //        }
;;;408    //        _tools[slot].id SET_TO tool_id;
;;;409    //        _tools[slot].length SET_TO offset;
;;;410    //        _tools[slot].diameter SET_TO diameter;
;;;411    	    for (slot SET_TO 0; slot <= _tool_max; slot++)/* initialize */
000004  f04f0000          MOV      r0,#0
000008  4601              MOV      r1,r0
00000a  e018              B        |L11.62|
                  |L11.12|
;;;412    	    {
;;;413    	        _tools[slot].id SET_TO -1;
00000c  f04f30ff          MOV      r0,#0xffffffff
000010  eb010341          ADD      r3,r1,r1,LSL #1
000014  4c15              LDR      r4,|L11.108|
000016  f8440033          STR      r0,[r4,r3,LSL #3]
;;;414    	        _tools[slot].length SET_TO 0;
00001a  f04f0300          MOV      r3,#0
00001e  eb010441          ADD      r4,r1,r1,LSL #1
000022  4d12              LDR      r5,|L11.108|
000024  eb0504c4          ADD      r4,r5,r4,LSL #3
000028  60a3              STR      r3,[r4,#8]
00002a  60e3              STR      r3,[r4,#0xc]
;;;415    	        _tools[slot].diameter SET_TO 0;
00002c  eb010441          ADD      r4,r1,r1,LSL #1
000030  eb0504c4          ADD      r4,r5,r4,LSL #3
000034  6123              STR      r3,[r4,#0x10]
000036  6163              STR      r3,[r4,#0x14]
000038  f1010001          ADD      r0,r1,#1              ;411
00003c  4601              MOV      r1,r0                 ;411
                  |L11.62|
00003e  480c              LDR      r0,|L11.112|
000040  6800              LDR      r0,[r0,#0]            ;411  ; _tool_max
000042  4281              CMP      r1,r0                 ;411
000044  dde2              BLE      |L11.12|
;;;416    	    }
;;;417    
;;;418            _tools[5].id SET_TO 5;
000046  f04f0005          MOV      r0,#5
00004a  4b08              LDR      r3,|L11.108|
00004c  6798              STR      r0,[r3,#0x78]  ; _tools
;;;419            _tools[5].length SET_TO 1.5;
00004e  f04f0400          MOV      r4,#0
000052  4b08              LDR      r3,|L11.116|
000054  4805              LDR      r0,|L11.108|
000056  f1000078          ADD      r0,r0,#0x78
00005a  e9c04302          STRD     r4,r3,[r0,#8]
;;;420            _tools[5].diameter SET_TO 0.25;
00005e  4b06              LDR      r3,|L11.120|
000060  e9c04304          STRD     r4,r3,[r0,#0x10]
;;;421    
;;;422    //    }
;;;423    //    fclose(tool_file_port);
;;;424        return 0;
000064  f04f0000          MOV      r0,#0
;;;425    }
000068  bd30              POP      {r4,r5,pc}
;;;426    
                          ENDP

00006a  0000              DCW      0x0000
                  |L11.108|
                          DCD      _tools
                  |L11.112|
                          DCD      _tool_max
                  |L11.116|
                          DCD      0x3ff80000
                  |L11.120|
                          DCD      0x3fd00000

                          AREA ||i.report_error||, CODE, READONLY, ALIGN=2

                          REQUIRE _printf_percent
                          REQUIRE _printf_s
                          REQUIRE _printf_str
                          REQUIRE _printf_str
                          REQUIRE _printf_str
                  report_error PROC
;;;87     
;;;88     void report_error(                                /* ARGUMENTS                            */
000000  b570              PUSH     {r4-r6,lr}
;;;89     int error_code,                                   /* the code number of the error message */
;;;90     int print_stack)                                  /* print stack if ON, otherwise not     */
;;;91     {
000002  b0c0              SUB      sp,sp,#0x100
000004  4606              MOV      r6,r0
000006  460d              MOV      r5,r1
;;;92         char buffer[RS274NGC_TEXT_SIZE];
;;;93         int k;
;;;94     
;;;95         rs274ngc_error_text(error_code, buffer, 5);   /* for coverage of code */
000008  f04f0205          MOV      r2,#5
00000c  4669              MOV      r1,sp
00000e  4630              MOV      r0,r6
000010  f7fffffe          BL       rs274ngc_error_text
;;;96         rs274ngc_error_text(error_code, buffer, RS274NGC_TEXT_SIZE);
000014  f44f7280          MOV      r2,#0x100
000018  4669              MOV      r1,sp
00001a  4630              MOV      r0,r6
00001c  f7fffffe          BL       rs274ngc_error_text
;;;97         fprintf(stderr, "%s\r\n",
000020  f89d0000          LDRB     r0,[sp,#0]
000024  b908              CBNZ     r0,|L12.42|
;;;98             ((buffer[0] IS 0) ? "Unknown error, bad error code" : buffer));
000026  a017              ADR      r0,|L12.132|
000028  e000              B        |L12.44|
                  |L12.42|
00002a  4668              MOV      r0,sp
                  |L12.44|
00002c  4602              MOV      r2,r0
00002e  a11d              ADR      r1,|L12.164|
000030  481e              LDR      r0,|L12.172|
000032  f7fffffe          BL       __2fprintf
;;;99         rs274ngc_line_text(buffer, RS274NGC_TEXT_SIZE);
000036  f44f7180          MOV      r1,#0x100
00003a  4668              MOV      r0,sp
00003c  f7fffffe          BL       rs274ngc_line_text
;;;100        fprintf(stderr, "%s\r\n", buffer);
000040  466a              MOV      r2,sp
000042  a118              ADR      r1,|L12.164|
000044  4819              LDR      r0,|L12.172|
000046  f7fffffe          BL       __2fprintf
;;;101        if (print_stack IS ON)
00004a  2d01              CMP      r5,#1
00004c  d117              BNE      |L12.126|
;;;102        {
;;;103            for (k SET_TO 0; ; k++)
00004e  f04f0400          MOV      r4,#0
000052  bf00              NOP      
                  |L12.84|
;;;104            {
;;;105                rs274ngc_stack_name(k, buffer, RS274NGC_TEXT_SIZE);
000054  f44f7280          MOV      r2,#0x100
000058  4669              MOV      r1,sp
00005a  4620              MOV      r0,r4
00005c  f7fffffe          BL       rs274ngc_stack_name
;;;106                if (buffer[0] ISNT 0)
000060  f89d0000          LDRB     r0,[sp,#0]
000064  b128              CBZ      r0,|L12.114|
;;;107                    fprintf(stderr, "%s\r\n", buffer);
000066  466a              MOV      r2,sp
000068  a10e              ADR      r1,|L12.164|
00006a  4810              LDR      r0,|L12.172|
00006c  f7fffffe          BL       __2fprintf
000070  e000              B        |L12.116|
                  |L12.114|
;;;108                else
;;;109                    break;
000072  e003              B        |L12.124|
                  |L12.116|
000074  f1040001          ADD      r0,r4,#1              ;103
000078  4604              MOV      r4,r0                 ;103
00007a  e7eb              B        |L12.84|
                  |L12.124|
00007c  bf00              NOP      
                  |L12.126|
;;;110            }
;;;111        }
;;;112    }
00007e  b040              ADD      sp,sp,#0x100
000080  bd70              POP      {r4-r6,pc}
;;;113    
                          ENDP

000082  0000              DCW      0x0000
                  |L12.132|
000084  556e6b6e          DCB      "Unknown error, bad error code",0
000088  6f776e20
00008c  6572726f
000090  722c2062
000094  61642065
000098  72726f72
00009c  20636f64
0000a0  6500    
0000a2  00                DCB      0
0000a3  00                DCB      0
                  |L12.164|
0000a4  25730d0a          DCB      "%s\r\n",0
0000a8  00      
0000a9  00                DCB      0
0000aa  00                DCB      0
0000ab  00                DCB      0
                  |L12.172|
                          DCD      __stderr

                          AREA ||.data||, DATA, ALIGN=2

                  _nc_code_buffer
000000  28746869          DCB      0x28,0x74,0x68,0x69
000004  73207072          DCB      0x73,0x20,0x70,0x72
000008  6f677261          DCB      0x6f,0x67,0x72,0x61
00000c  6d206d69          DCB      0x6d,0x20,0x6d,0x69
000010  6c6c7320          DCB      0x6c,0x6c,0x73,0x20
000014  293b6e30          DCB      0x29,0x3b,0x6e,0x30
000018  30313020          DCB      0x30,0x31,0x30,0x20
00001c  67323120          DCB      0x67,0x32,0x31,0x20
000020  67302078          DCB      0x67,0x30,0x20,0x78
000024  30207930          DCB      0x30,0x20,0x79,0x30
000028  207a3530          DCB      0x20,0x7a,0x35,0x30
00002c  28746f70          DCB      0x28,0x74,0x6f,0x70
000030  206f6620          DCB      0x20,0x6f,0x66,0x20
000034  70617274          DCB      0x70,0x61,0x72,0x74
000038  2073686f          DCB      0x20,0x73,0x68,0x6f
00003c  756c6420          DCB      0x75,0x6c,0x64,0x20
000040  6265206f          DCB      0x62,0x65,0x20,0x6f
000044  6e205859          DCB      0x6e,0x20,0x58,0x59
000048  20706c61          DCB      0x20,0x70,0x6c,0x61
00004c  6e65293b          DCB      0x6e,0x65,0x29,0x3b
000050  6e303032          DCB      0x6e,0x30,0x30,0x32
000054  30207431          DCB      0x30,0x20,0x74,0x31
000058  206d3620          DCB      0x20,0x6d,0x36,0x20
00005c  6d332066          DCB      0x6d,0x33,0x20,0x66
000060  32302073          DCB      0x32,0x30,0x20,0x73
000064  34303030          DCB      0x34,0x30,0x30,0x30
000068  28757365          DCB      0x28,0x75,0x73,0x65
00006c  20616e20          DCB      0x20,0x61,0x6e,0x20
000070  656e6772          DCB      0x65,0x6e,0x67,0x72
000074  61766572          DCB      0x61,0x76,0x65,0x72
000078  206f7220          DCB      0x20,0x6f,0x72,0x20
00007c  736d616c          DCB      0x73,0x6d,0x61,0x6c
000080  6c206261          DCB      0x6c,0x20,0x62,0x61
000084  6c6c2d6e          DCB      0x6c,0x6c,0x2d,0x6e
000088  6f736520          DCB      0x6f,0x73,0x65,0x20
00008c  656e646d          DCB      0x65,0x6e,0x64,0x6d
000090  696c6c29          DCB      0x69,0x6c,0x6c,0x29
000094  3b6e3030          DCB      0x3b,0x6e,0x30,0x30
000098  33302067          DCB      0x33,0x30,0x20,0x67
00009c  30207830          DCB      0x30,0x20,0x78,0x30
0000a0  20793020          DCB      0x20,0x79,0x30,0x20
0000a4  7a323b6e          DCB      0x7a,0x32,0x3b,0x6e
0000a8  30303430          DCB      0x30,0x30,0x34,0x30
0000ac  20673120          DCB      0x20,0x67,0x31,0x20
0000b0  7a2d302e          DCB      0x7a,0x2d,0x30,0x2e
0000b4  35202873          DCB      0x35,0x20,0x28,0x73
0000b8  74617274          DCB      0x74,0x61,0x72,0x74
0000bc  2048293b          DCB      0x20,0x48,0x29,0x3b
0000c0  6e303035          DCB      0x6e,0x30,0x30,0x35
0000c4  30207931          DCB      0x30,0x20,0x79,0x31
0000c8  303b6e30          DCB      0x30,0x3b,0x6e,0x30
0000cc  30363020          DCB      0x30,0x36,0x30,0x20
0000d0  6730207a          DCB      0x67,0x30,0x20,0x7a
0000d4  323b6e30          DCB      0x32,0x3b,0x6e,0x30
0000d8  30373020          DCB      0x30,0x37,0x30,0x20
0000dc  79353b6e          DCB      0x79,0x35,0x3b,0x6e
0000e0  30303830          DCB      0x30,0x30,0x38,0x30
0000e4  20673120          DCB      0x20,0x67,0x31,0x20
0000e8  7a2d302e          DCB      0x7a,0x2d,0x30,0x2e
0000ec  353b6e30          DCB      0x35,0x3b,0x6e,0x30
0000f0  30393020          DCB      0x30,0x39,0x30,0x20
0000f4  7820373b          DCB      0x78,0x20,0x37,0x3b
0000f8  6e303632          DCB      0x6e,0x30,0x36,0x32
0000fc  30206d32          DCB      0x30,0x20,0x6d,0x32
000100  3b250000          DCB      0x3b,0x25,0x00,0x00
                  gNowChar
                          DCD      0x00000000
                  _outfile
                          DCD      0x00000000
                  gAllChar
                          DCD      0x00000000
                  HSEStartUpStatus
000110  00                DCB      0x00
